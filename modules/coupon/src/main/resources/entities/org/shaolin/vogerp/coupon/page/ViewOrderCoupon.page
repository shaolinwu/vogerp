<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns2:UIPage xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ns2="http://bmdp.shaolin.org/datamodel/Page" xmlns="http://bmdp.shaolin.org/datamodel/Common"
	xsi:schemaLocation="">
	<entityName>org.shaolin.vogerp.coupon.page.ViewOrderCoupon</entityName>
	<systemVersion>0</systemVersion>
	<description>订单下的优惠券信息</description>
	
	<ns2:UIEntity xsi:type="ns2:UIEntityType">
		<ns2:body UIID="Form" xsi:type="ns2:UIPanelType">
			<ns2:layout xsi:type="ns2:TableLayoutType">
				<ns2:rowHeightWeight>0.0</ns2:rowHeightWeight>
				<ns2:rowHeightWeight>0.0</ns2:rowHeightWeight>
				<ns2:columnWidthWeight>0.0</ns2:columnWidthWeight>
			</ns2:layout>
			<ns2:component xsi:type="ns2:UIImageType" UIID="logoImage">
				<ns2:src xsi:type="ns2:ImagePropertyType">
					<ns2:location>/coupon/front/LOGO.png</ns2:location>
				</ns2:src>
			</ns2:component>
			<ns2:component UIID="couponPanel" xsi:type="ns2:UIPanelType">
				<ns2:layout xsi:type="ns2:TableLayoutType">
					<ns2:rowHeightWeight>0.0</ns2:rowHeightWeight>
					<ns2:columnWidthWeight>1.0</ns2:columnWidthWeight>
				</ns2:layout>
				<ns2:component xsi:type="ns2:UITableType" UIID="couponTable">
					<ns2:beElement>org.shaolin.vogerp.coupon.be.Coupon</ns2:beElement>
					<ns2:selectMode xsi:type="ns2:UITableSelectModeType">Normal</ns2:selectMode>
					<ns2:defaultRowSize>10</ns2:defaultRowSize>
					<ns2:showActionBar>false</ns2:showActionBar>
					<ns2:showFilter>false</ns2:showFilter>
					<ns2:query xsi:type="ns2:ExpressionPropertyType">
						<ns2:expression xsi:type="ns2:ExpressionType">
							<ns2:expressionString><![CDATA[
                            {
                            	System.out.println("\n========coupons========\n" + $coupons + "\n================");
                            	return $coupons;
                            }
                            ]]></ns2:expressionString>
						</ns2:expression>
					</ns2:query>
					<ns2:column xsi:type="ns2:UITableColumnType">
						<ns2:title xsi:type="ns2:StringPropertyType">
							<ns2:value>serialNumber</ns2:value>
						</ns2:title>
						<ns2:beFieldId>rowBE.serialNumber</ns2:beFieldId>
						<ns2:uiType xsi:type="ns2:UITableColHTMLType">
							<ns2:type>HTMLItem</ns2:type>
						</ns2:uiType>
						<ns2:rowExpression xsi:type="ns2:ExpressionPropertyType">
							<ns2:expression xsi:type="ns2:ExpressionType">
								<ns2:expressionString><![CDATA[
	                            import java.util.HashMap;
	                            import org.shaolin.uimaster.page.AjaxContext;
	                            import org.shaolin.uimaster.page.AjaxActionHelper;
	                            import org.shaolin.uimaster.page.ajax.*;
	                            import org.shaolin.vogerp.productmodel.be.ProductImpl;
	                            {
	                                HashMap input = new HashMap();
	                                input.put("coupon", $rowBE);
	                                System.out.println($rowBE);
	                                RefForm form = new RefForm("orderCouponForm" + $rowBE.getId(), 
	                                  "org.shaolin.vogerp.coupon.form.OrderCouponView", input);
	                                StringBuffer sb = new StringBuffer();
	                                sb.append(form.generateHTML());
	                                sb.append("<script type=\"text/javascript\">UIMaster.pageInitFunctions.push(function(){");
	                                sb.append(form.generateJS());
	                                sb.append("});</script>");
	                                return sb.toString();
	                            }
	                            ]]></ns2:expressionString>
							</ns2:expression>
						</ns2:rowExpression>
					</ns2:column>
				</ns2:component>
				<ns2:layoutConstraint>
					<ns2:componentId>couponTable</ns2:componentId>
					<ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
						x="0" y="0" align="FULL"></ns2:constraint>
				</ns2:layoutConstraint>
			</ns2:component>
			<ns2:layoutConstraint>
				<ns2:componentId>logoImage</ns2:componentId>
				<ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
					x="0" y="0" align="FULL"></ns2:constraint>
			</ns2:layoutConstraint>
			<ns2:layoutConstraint>
				<ns2:componentId>couponPanel</ns2:componentId>
				<ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
					x="0" y="1" align="FULL"></ns2:constraint>
			</ns2:layoutConstraint>
		</ns2:body>
	</ns2:UIEntity>
	<ns2:ODMapping>
		<ns2:DataEntity scope="InOut" name="orderNumText" category="JavaClass">
			<type entityName="java.lang.String"></type>
		</ns2:DataEntity>
		<ns2:DataEntity scope="InOut" name="coupons" category="JavaClass">
			<type entityName="java.util.List"></type>
		</ns2:DataEntity>
	</ns2:ODMapping>
	<ns2:in>
	</ns2:in>
</ns2:UIPage>