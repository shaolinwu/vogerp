<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns2:UIEntity xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:ns5="http://bmdp.shaolin.org/datamodel/PageDiagram" xmlns:ns4="http://bmdp.shaolin.org/datamodel/RDBDiagram"
 xmlns:ns3="http://bmdp.shaolin.org/datamodel/BEDiagram" xmlns:ns2="http://bmdp.shaolin.org/datamodel/Page"
 xmlns="http://bmdp.shaolin.org/datamodel/Common" xsi:schemaLocation="">
 <entityName>org.shaolin.vogerp.ecommercial.form.SearchBar_mob</entityName>
 <systemVersion>0</systemVersion>
 <ns2:eventHandler functionName="selectCity">
   <ns2:ops xsi:type="ns2:OpCallAjaxType" name="selectCity-201604102211">
    <ns2:exp>
     <expressionString><![CDATA[
          import java.util.HashMap;
          import org.shaolin.bmdp.runtime.AppContext;
          import org.shaolin.uimaster.page.AjaxContext;
          import org.shaolin.uimaster.page.ajax.*;
          {
              HashMap input = new HashMap();
              input.put("parentUIID", @page.getEntityUiid() + ".citiesCbxUI");
              input.put("editable", new Boolean(true));
              RefForm form = new RefForm("cityListForm", "org.shaolin.vogerp.commonmodel.form.CitySelelctor_mob", input);
              @page.addElement(form);
              
              form.openInWindows("选择城市", new FunctionCallBack(@page, "selectedCity-201604102211"), true);
          }
          ]]></expressionString>
    </ns2:exp>
   </ns2:ops>
  </ns2:eventHandler>
  <ns2:eventHandler functionName="selectedCity">
   <ns2:ops xsi:type="ns2:OpCallAjaxType" name="selectedCity-201604102211">
    <ns2:exp>
     <expressionString><![CDATA[
          import java.util.HashMap;
          import org.shaolin.bmdp.runtime.AppContext;
          import org.shaolin.uimaster.page.AjaxContext;
          import org.shaolin.uimaster.page.ajax.*;
          {
              //TODO:
          }
          ]]></expressionString>
    </ns2:exp>
   </ns2:ops>
  </ns2:eventHandler>
  <ns2:eventHandler functionName="selectProductType">
   <ns2:ops xsi:type="ns2:OpCallAjaxType" name="selectProductType-201604102211">
    <ns2:exp>
     <expressionString><![CDATA[
          import java.util.HashMap;
          import org.shaolin.bmdp.runtime.AppContext;
          import org.shaolin.uimaster.page.AjaxContext;
          import org.shaolin.uimaster.page.ajax.*;
          import org.shaolin.bmdp.runtime.security.UserContext;
          {
              HashMap input = new HashMap();
              input.put("parentTypeUIID", @page.getEntityUiid() + ".productTypeUI");
              input.put("parentSubTypeUIID", @page.getEntityUiid() + ".productTypeUI");
              input.put("parentSubType2UIID", @page.getEntityUiid() + ".productType1UI");
              input.put("ceName", "org.shaolin.vogerp.productmodel.ce.ProductType");
              input.put("pvalue", UserContext.getUserContext().getOrgType());
              input.put("editable", new Boolean(false));
              RefForm form = new RefForm("productTypeForm", "org.shaolin.vogerp.productmodel.form.ProductHierarchySelector2", input);
              @page.addElement(form);
              
              form.openInWindows("\u9009\u62E9\u57CE\u5E02", new FunctionCallBack(@page, "selectedProductType-201604102211"), true);
          }
          ]]></expressionString>
    </ns2:exp>
   </ns2:ops>
  </ns2:eventHandler>
  <ns2:eventHandler functionName="selectedProductType">
   <ns2:ops xsi:type="ns2:OpCallAjaxType" name="selectedProductType-201604102211">
    <ns2:exp>
     <expressionString><![CDATA[
          import java.util.HashMap;
          import org.shaolin.bmdp.runtime.AppContext;
          import org.shaolin.uimaster.page.AjaxContext;
          import org.shaolin.uimaster.page.ajax.*;
          {
              //TODO:
          }
          ]]></expressionString>
    </ns2:exp>
   </ns2:ops>
  </ns2:eventHandler>
  <ns2:eventHandler functionName="search">
   <ns2:ops xsi:type="ns2:OpExecuteScriptType">
        <ns2:expressionString><![CDATA[
        {   
        if (event.keyCode != 13) {
          return;
        }
        }
        ]]></ns2:expressionString>
    </ns2:ops>
   <ns2:ops xsi:type="ns2:OpCallAjaxType" name="search-20160410-2211">
    <ns2:exp>
     <expressionString><![CDATA[
          import org.shaolin.uimaster.page.AjaxContext;
          import org.shaolin.uimaster.page.ajax.*;
          import org.shaolin.vogerp.commonmodel.IUserService;
          import org.shaolin.bmdp.runtime.AppContext;
          { 
              System.out.println("Searching for :" + @page.getTextField("searchContext").getValue());
          }
          ]]></expressionString>
    </ns2:exp>
   </ns2:ops>
  </ns2:eventHandler>
 <ns2:body UIID="Form" xsi:type="ns2:UIPanelType">
  <ns2:layout xsi:type="ns2:TableLayoutType">
   <ns2:rowHeightWeight>0</ns2:rowHeightWeight>
   <ns2:columnWidthWeight>1.0</ns2:columnWidthWeight>
  </ns2:layout>
  <ns2:component xsi:type="ns2:UIPanelType" UIID="root">
   <ns2:layout xsi:type="ns2:TableLayoutType">
     <ns2:rowHeightWeight>0.0</ns2:rowHeightWeight>
     <ns2:rowHeightWeight>0.0</ns2:rowHeightWeight>
     <ns2:columnWidthWeight>1.0</ns2:columnWidthWeight>
   </ns2:layout>
   <ns2:component xsi:type="ns2:UIPanelType" UIID="firstRow">
	   <ns2:layout xsi:type="ns2:TableLayoutType">
	     <ns2:rowHeightWeight>0.0</ns2:rowHeightWeight>
	     <ns2:columnWidthWeight>0.0</ns2:columnWidthWeight>
	     <ns2:columnWidthWeight>0.0</ns2:columnWidthWeight>
	   </ns2:layout>
	    <ns2:component xsi:type="ns2:UILabelType" UIID="citiesCbxUI">
	       <ns2:text xsi:type="ns2:StringPropertyType">
	           <ns2:value>选择城市</ns2:value>
	        </ns2:text>
	       <ns2:EventListener xsi:type="ns2:ClickListenerType">
	         <ns2:handler functionName="selectCity"></ns2:handler>
	       </ns2:EventListener>
	     </ns2:component>
	     <ns2:component xsi:type="ns2:UILabelType" UIID="productTypeUI">
	       <ns2:text xsi:type="ns2:StringPropertyType">
	           <ns2:value>选择产品类型</ns2:value>
	        </ns2:text>
	       <ns2:EventListener xsi:type="ns2:ClickListenerType">
	         <ns2:handler functionName="selectProductType"></ns2:handler>
	       </ns2:EventListener>
	     </ns2:component>
	     <ns2:component xsi:type="ns2:UIHiddenType" UIID="productType1UI">
	     </ns2:component>
	     <ns2:layoutConstraint>
	         <ns2:componentId>citiesCbxUI</ns2:componentId>
	         <ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
	          x="0" y="0" align="FULL"></ns2:constraint>
	     </ns2:layoutConstraint>
	     <ns2:layoutConstraint>
	         <ns2:componentId>productTypeUI</ns2:componentId>
	         <ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
	          x="1" y="0" align="FULL"></ns2:constraint>
	     </ns2:layoutConstraint>
    </ns2:component>
     <ns2:component xsi:type="ns2:UITextFieldType" UIID="searchContext">
        <ns2:EventListener xsi:type="ns2:KeyPressListenerType">
            <ns2:handler functionName="search" />
        </ns2:EventListener>
     </ns2:component>
     <ns2:layoutConstraint>
         <ns2:componentId>firstRow</ns2:componentId>
         <ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
          x="0" y="0" align="FULL"></ns2:constraint>
     </ns2:layoutConstraint>
     <ns2:layoutConstraint>
	     <ns2:componentId>searchContext</ns2:componentId>
	     <ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
	      x="0" y="1" align="FULL"></ns2:constraint>
     </ns2:layoutConstraint>
  </ns2:component>
  <ns2:layoutConstraint>
   <ns2:componentId>root</ns2:componentId>
   <ns2:constraint xsi:type="ns2:TableLayoutConstraintType"
    x="0" y="0" align="FULL"></ns2:constraint>
  </ns2:layoutConstraint>
 </ns2:body>
 <ns2:mapping>
 </ns2:mapping>
</ns2:UIEntity>
